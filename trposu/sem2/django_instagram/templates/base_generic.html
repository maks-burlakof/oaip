{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <title>{% block title %}Instagram{% endblock %}</title>
   <link rel="icon" href="{% static 'favicon/120x120.png' %}" type="image/png">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
   <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.3.0/css/all.css">
   <link type="text/css" rel="stylesheet" href="{% static 'css/styles.css' %}?v=1.0">
   <script src="{% static 'js/scripts.js' %}?v=1.0"></script>
   {% block extrastyle %}{% endblock %}
</head>
<body>
{% block navbar %}
   <div class="d-none d-sm-inline-flex navbar navbar-expand-sm border fixed-top" style="background-color: #ffffff; height: 54px">
      <div class="container-fluid justify-content-evenly align-items-center">
         <div class="navbar-brand">
            <a href="{% url 'index' %}">
               <img width="130" src="{% static 'img/instagram_logo.png' %}"/>
            </a>
         </div>
         <div>
            <form>
               <div class="d-flex align-items-center">
                  <button class="btn" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
                  <input class="form-control form-control-sm border-0" type="search" placeholder="Поиск..." aria-label="Поиск..."/>
               </div>
            </form>
         </div>
         <div>
            <ul class="navbar-nav">
               <li class="nav-item active">
                  <a class="nav-link fs-5 text-dark" href="{% url 'index' %}">
                     <i class="fa-solid fa-house"></i>
                  </a>
               </li>
               <li class="nav-item">
                  <a class="nav-link fs-5 text-dark" href="{% url 'post-create' %}">
                     <i class="fa-solid fa-circle-plus"></i>
                  </a>
               </li>
               <li class="nav-item">
                  <a class="nav-link fs-5 text-dark" href="{% url 'explore' %}">
                     <i class="fa-regular fa-compass fa-spin"></i>
                  </a>
               </li>
               <li class="nav-item">
                  <a class="nav-link fs-5 text-dark" href="#">
                     <i class="fa-regular fa-heart"></i>
                  </a>
               </li>
               <li class="nav-item">
                  {% if user.is_authenticated %}
                     <a class="nav-link" href="{% url 'my-profile' %}">
                        <img src="{% static 'img/profile_default.jpg' %}" style="width: 22px; height: 22px; border-radius: 50%;"/>
                     </a>
                  {% else %}
                     <a class="nav-link fs-5 text-dark" href="{% url 'login' %}">
                        <i class="fa-solid fa-right-to-bracket"></i>
                     </a>
                  {% endif %}
               </li>
            </ul>
         </div>
      </div>
   </div>
{% endblock %}
{% if messages %}
   <div aria-live="polite" aria-atomic="true" class="toast-notification">
      {% for message in messages %}
         <div id="toast-msg-{{ forloop.counter }}" class="toast mb-1 text-bg-{% if message.tags == "error" %}danger{% else %}{{ message.tags }}{% endif %}" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex justify-content-between align-items-center">
               <div class="toast-body">{{ message }}</div>
               <button type="button" class="btn-close btn-close-white me-3" data-bs-dismiss="toast" aria-label="Закрыть"></button>
            </div>
         </div>
         <script>
             bootstrap.Toast.getOrCreateInstance(document.getElementById('toast-msg-{{ forloop.counter }}')).show();
         </script>
      {% endfor %}
   </div>
{% endif %}
<div class="container mt-5 mb-5">
   <div class="pt-sm-4"></div>
   {% block content %}{% endblock %}
</div>
{% block footer %}
   <footer class="mb-4">
      <ul class="d-flex flex-row list-unstyled justify-content-center flex-wrap small">
         <li class="mx-3">
            <a href="{% url 'docs-index' %}" target="_blank" class="text-decoration-none text-secondary">Информация</a>
         </li>
         <li class="mx-4">
            <a href="#" target="_blank" class="text-decoration-none text-secondary">Рейтинг аккаунтов</a>
         </li>
         <li class="mx-4">
            <a href="#" target="_blank" class="text-decoration-none text-secondary">Хэштэги</a>
         </li>
         <li class="mx-4">
            <a href="#" target="_blank" class="text-decoration-none text-secondary">Места</a>
         </li>
         <li class="mx-4 text-secondary">
            <i class="fa-regular fa-copyright"></i> 2023 Instagram from BSUIR
         </li>
      </ul>
   </footer>
{% endblock %}
{% block extrajs %}{% endblock %}
</body>
</html>