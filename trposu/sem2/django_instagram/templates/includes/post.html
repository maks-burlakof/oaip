{% load custom_tags %}
<div class="card post-card mb-4">
   <div class="card-header">
      <div class="d-flex justify-content-between align-items-center">
         <div>
            <a href="{{ post.user_profile.get_absolute_url }}">
               <img src="{{ post.user_profile.get_profile_pic }}" class="profile-photo me-2">
               <span class="fw-bold">{{ post.user_profile.user.username }}</span>
            </a>
            <span class="text-muted small">Â· {{ post.get_str_time }}</span>
         </div>
         <div>
            <a class="common-link fw-bold" data-bs-toggle="modal" data-bs-target="#post-modal" data-bs-whatever="{{ post.pk }}"><i class="fa-solid fa-ellipsis"></i></a>
         </div>
      </div>
   </div>
   <img src="{{ post.image.url }}" class="card-img-top rounded">
   <section data-post-id="{{ post.pk }}" class="post-buttons post-buttons-flex">
      <div class="post-buttons-flex">
         <span>
            <i class="fa-regular fa-heart submit-like {% if post.is_liked %}like-liked{% endif %}"></i>
            <span class="like-count">{{ post.get_num_of_likes|default:"" }}</span>
         </span>
         <span class="ms-3">
            <i class="fa-regular fa-comment"></i>
            <span class="comment-count">{{ post.get_num_of_comments|default:"" }}</span>
         </span>
      </div>
      <div class="post-buttons-flex">
         <span class="me-3">
            <i class="fa-solid fa-arrow-up-from-bracket"></i>
         </span>
         <span>
            <i class="fa-regular fa-bookmark"></i>
         </span>
      </div>
   </section>
   {% if post.title %}
      <span class="small limit-str">
         <span class="fw-bold me-1">{{ post.user_profile.user.username }}</span>
         {{ post.title }}
      </span>
   {% endif %}
</div>