{% extends 'base_generic.html' %}
{% load static %}
{% block title %}Регистрация на Instagram{% endblock %}
{% block navbar %}{% endblock %}
{% block content %}
   <div class="card shadow mx-auto mt-3 mb-3" style="max-width: 30rem;">
      <div class="card-body p-md-4">
         <img class="d-block mx-auto mb-2" src="{% static 'img/instagram_logo.png' %}" width="200" />
         <p class="fw-semibold text-center px-md-4">Зарегистрируйтесь, чтобы смотреть фото и видео ваших друзей.</p>
         {% if form.non_field_errors %}
            {% include 'includes/form_non_field_errors.html' %}
         {% endif %}
         <form method="post">
            {% csrf_token %}
            <div class="mb-3">
               <div class="form-floating">
                  {{ form.email }}
                  <label for="id_email">Электронная почта</label>
               </div>
            </div>
            <div class="row g-3 mb-3">
               <div class="col">
                  <div class="form-floating">
                     {{ form.first_name }}
                     <label for="id_first_name">Имя</label>
                  </div>
               </div>
               <div class="col">
                  <div class="form-floating">
                     {{ form.last_name }}
                     <label for="id_last_name">Фамилия</label>
                  </div>
               </div>
            </div>
            <div class="mb-3">
               <div class="form-floating">
                  {{ form.username }}
                  <label for="id_username">Имя пользователя</label>
               </div>
            </div>
            <div class="mb-3">
               <div class="form-floating">
                  {{ form.password1 }}
                  <label for="id_password1">Пароль</label>
               </div>
            </div>
            <div class="mb-3">
               <div class="form-floating">
                  {{ form.password2 }}
                  <label for="id_password2">Повторите пароль</label>
               </div>
            </div>
            <div class="mb-3">
               <p class="small text-muted">Регистрируясь, вы принимаете наши Условия, Политику конфиденциальности и Политику в отношении файлов cookie.</p>
            </div>
            <button type="submit" class="btn btn-primary w-100">Регистрация</button>
         </form>
      </div>
   </div>
   <div class="card shadow mx-auto mb-5" style="max-width: 30rem;">
      <div class="card-body p-3">
         <p class="text-center mb-0">Есть аккаунт? <a href="{% url 'login' %}" class="btn btn-sm text-bg-primary ms-2">Вход</a></p>
      </div>
   </div>

   {% include 'includes/footer_with_links.html' %}
{% endblock %}
{% block extrajs %}
   <script>
       {% if form.errors %}{% for field in form %}
       {% if field.errors %}
           AddBsError("{{ field.id_for_label }}", "{% for error in field.errors %}{{ error }} {% endfor %}")
       {% endif %}
       {% endfor %}{% endif %}
   </script>
{% endblock %}